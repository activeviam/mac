<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<measures xmlns="http://www.quartetfs.com" xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.quartetfs.com ../activepivot-types.xsd">

	<nativeMeasure name="contributors.COUNT" alias="Chunks.COUNT"
		formatter="INT[#,###]" />
	<nativeMeasure name="update.TIMESTAMP" alias="Timestamp"
		formatter="DATE[HH:mm:ss]" />

	<measure name="DirectMemory.SUM" field="offHeapMemorySize"
		aggregation="SUM" formatter="ByteFormatter" visible="false" />
	<measure name="HeapMemoryChunksUsage.SUM" field="onHeapMemorySize"
		aggregation="SUM" formatter="ByteFormatter" />

	<!-- intermediate measure used for post processing. -->
	<measure name="FreeRows.SUM" field="freeRows"
		aggregation="SUM" folder="Technical ChunkSet" />
	<measure name="PhysicalChunkSize.SUM" field="physicalChunkSize"
		aggregation="SUM" folder="Technical ChunkSet" />

	<postProcessor pluginKey="DIRECT_MEMORY_ONLY" name="DirectChunks.COUNT"
		underlyingMeasures="contributors.COUNT">
		<properties>
			<entry key="leafLevels" value="Class@Chunks@Chunks" />
			<entry key="evaluatedMeasure" value="DirectMemory.SUM" />
		</properties>
	</postProcessor>

	<postProcessor pluginKey="DIRECT_MEMORY_ONLY" name="DirectMemoryChunksUsage.SUM"
		underlyingMeasures="DirectMemory.SUM" formatter="ByteFormatter">
		<properties>
			<entry key="leafLevels" value="Class@Chunks@Chunks" />
			<entry key="evaluatedMeasure" value="DirectMemory.SUM" />
		</properties>
	</postProcessor>

	<postProcessor pluginKey="FREE_ROWS_RATE" name="FreeRowsRate.AVG"
		formatter="DOUBLE[00.00%]" underlyingMeasures="FreeRows.SUM,PhysicalChunkSize.SUM"
		folder="Technical ChunkSet">
		<properties>
			<entry key="leafLevels" value="Id@Chunk Set@Chunk Set" />
			<entry key="aggregationFunction" value="AVG" />
		</properties>
	</postProcessor>

	<postProcessor pluginKey="DYNAMIC" name="FreeRows.AVG"
		underlyingMeasures="FreeRows.SUM" formatter="DOUBLE[#,###.00;-#,###.00]"
		folder="Technical ChunkSet">
		<properties>
			<entry key="leafLevels" value="Id@Chunk Set@Chunk Set" />
			<entry key="aggregationFunction" value="AVG" />
		</properties>
	</postProcessor>

	<postProcessor pluginKey="DYNAMIC" name="PhysicalChunkSize.AVG"
		underlyingMeasures="PhysicalChunkSize.SUM" formatter="DOUBLE[#,###.00;-#,###.00]"
		folder="Technical ChunkSet">
		<properties>
			<entry key="leafLevels" value="Id@Chunk Set@Chunk Set" />
			<entry key="aggregationFunction" value="AVG" />
		</properties>
	</postProcessor>

</measures>